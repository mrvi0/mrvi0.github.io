<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "ru" }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--  SEO и Метаданные  -->
    <title>{{ page.title | default: site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description | default: page.excerpt | strip_html | truncatewords: 50 }}">

    <!--  Шрифты (если нужны глобально)  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Source+Code+Pro&display=swap" rel="stylesheet">

    <!--  Основные Стили для Макета и Контента  -->
    <link rel="stylesheet" href="{{ '/assets/css/layout-styles.css' | relative_url }}"> <!-- Стили для шапки, подвала, структуры -->
    <link rel="stylesheet" href="{{ '/assets/css/content-styles.css' | relative_url }}"> <!-- Стили для Markdown-контента -->

    <!--  Дополнительные CSS из Front Matter СТРАНИЦЫ  -->
    <!-- Позволяет конкретной странице добавить еще свои стили -->
    {% if page.extra_css %}
        {% for css_file in page.extra_css %}
            <link rel="stylesheet" href="{{ css_file | relative_url }}">
        {% endfor %}
    {% endif %}

</head>

<body class="{{ page.body_class | default: 'content-page' }}">

    <header class="site-header">
        <nav class="site-nav">
            {% include navigation.html %}
        </nav>
    </header>

    <main class="site-main"> <!-- Основной контейнер для контента -->

        <!--  Опциональный Заголовок Страницы  -->
        <!-- Управляется через show_title: false в Front Matter страницы -->
        {% if page.show_title != false and page.title %}
            <h1 class="page-title">{{ page.title }}</h1> 
        {% endif %}
        <!--  Сюда Jekyll вставит контент из .md или .html файла  -->
        {{ content }}
        <!--  Опциональный Рекламный Блок  -->
        <!-- Управляется через show_ads: false в Front Matter страницы -->
        {% if page.show_ads != false %}
            <div id="ad-placeholder" class="ad-container">
                <!-- Сюда JS загрузит рекламу -->
                <p style="text-align:center; font-size: 0.8em; color: var(--text-color-muted);">Рекламный блок</p>
            </div>
        {% endif %}

    </main>

    <footer class="site-footer">
        <div class="footer-content">
            <!-- Дополнительный контент из Front Matter страницы -->
            {% if page.footer_extra %}
                <div class="footer-extra-content">
                    {{ page.footer_extra | markdownify }}
                </div>
            {% endif %}
            <!-- Стандартное содержимое футера  -->
            <p>{{ site.telegram | markdownify }}</p>
            <p>© 2023-{{ site.time | date: '%Y' }} {{ site.author | default: "Твое Имя/Ник" }}.</p>
        </div>
    </footer>

    <!--  Основные Скрипты Сайта (если есть)  -->
    <!-- <script src="{{ '/assets/js/main.js' | relative_url }}"></script> -->

    <!--  Дополнительные JS из Front Matter СТРАНИЦЫ  -->
    {% if page.extra_js %}
        {% for js_file in page.extra_js %}
            <script src="{{ js_file | relative_url }}" {% if page.js_async %}async defer{% endif %}></script>
        {% endfor %}
    {% endif %}

    <!--  Скрипт для Рекламного Блока (если показывается)  -->
    {% if page.show_ads != false %}
        <script src="{{ '/assets/js/ads.js' | relative_url }}"></script>
    {% endif %}

</body>

</html>