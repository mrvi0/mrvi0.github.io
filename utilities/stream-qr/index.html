<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TPQNM8CC');</script>
    <!-- End Google Tag Manager -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../stream-popup/css/main.css">
    <link rel="stylesheet" href="./css/main.css">
    <title>QR Code Generator</title>
</head>
<body>
    <h1>QR Code Generator</h1>
    <form id="dataForm">
        
        <div id="blocksContainer"></div>

        <!-- Поле для настройки задержки между блоками -->
        <label for="blockDelay">Задержка между QR-кодами (в секундах):<span style="cursor: pointer;" title="Это время, которое пройдет между исчезновением одного QR-кода и появлением следующего. Применяется ко всем QR-кодам, кроме первого.">❔</span></label>
        <input type="number" id="blockDelay" min="1" value="60"><br><br>

        <!-- Кнопка добавления нового блока -->
        <button type="button" id="addBlock">Добавить новый QR-код</button><br><br>

        <br>
        <div class="direction-select">
            <label for="direction">Позиция:</label>
            <select id="direction" name="direction">
                <option value="right-down" selected>Правый нижний угол</option>
                <option value="left-down">Левый нижний угол</option>
                <option value="right-up">Правый верхний угол</option>
                <option value="left-up">Левый верхний угол</option>
            </select>
        </div>
        
        <!-- Кнопка генерации ссылки -->
        <button type="submit" id="generateLink">Сгенерировать ссылку</button>
    </form>

    <div id="output"></div>
    <div class="centerflip">
        <button class="flippy">Как это работает?</button>
        <div class="flippanel">
            <p>Сервис для генерации QR-кодов позволяет вам создавать интерактивные QR-коды, которые появляются на странице в выбранном вами направлении. Вот как это работает:
                <ul>
                    <li><b><i>Добавление QR-кодов:</i></b> Вы можете добавлять новые QR-коды с полями для URL, описания, цвета фона и размера QR-кода.</li>
                    <li><b><i>Предварительный просмотр:</i></b> Каждый QR-код генерируется в реальном времени для предварительного просмотра.</li>
                    <li><b><i>Выбор позиции:</i></b> Выберите сторону, с которой будет появляться каждый QR-код: правый нижний, левый нижний, правый верхний или левый верхний угол.</li>
                    <li><b><i>Задержка между QR-кодами:</i></b> Установите время задержки между появлением каждого QR-кода. Обычно добавляют 5мин (300сек)</li>
                </ul>
            </p>
            <p>После заполнения всех полей вы можете сгенерировать ссылку на страницу display.html, 
                где будут отображаться ваши QR-коды согласно выбранным параметрам.
                <br> Эту ссылку необходимо вставить в OBS в источник браузер с размером <b>1920x1080</b> или размер вашего экрана
            </p> 
            <h3>Пример QR-кода</h3>
            <div style="width: 270px;height: 90px;background-color: #5ebdf1;text-align: center;display: flex;flex-direction: column;align-items: center;justify-content: center;border-radius: 5px;animation: shake 5s infinite alternate 0s;">
                <div style="background: white; padding: 5px; border-radius: 5px; margin-bottom: 5px;">
                    <canvas id="example-qr" width="60" height="60"></canvas>
                </div>
                <p style="position: absolute;font-family: 'Teko', sans-serif;margin: 55px 0 0 0;width: 100%;">ТЕЛЕГРАМ КАНАЛ</p>
            </div>
        </div> 
      </div>
    <div class="powered-by">
        <p>Powered by <a href="https://twitch.tv/f_4_t_c_a_t" class="mr-vi" target="_blank">Mr Vi</a></p>
    </div>
    
    <script src="./js/qr-generator.js"></script>
</body>
</html>
